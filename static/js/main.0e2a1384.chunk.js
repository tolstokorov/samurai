(this.webpackJsonpsamurai=this.webpackJsonpsamurai||[]).push([[0],{11:function(e,t,s){e.exports={navInner:"Nav_navInner__1kca8",list:"Nav_list__Z3MIF",activeLink:"Nav_activeLink__1GLfd"}},14:function(e,t,s){e.exports={grid:"App_grid__2gRzA",header:"App_header__3VoUR",center:"App_center__373M4",centerInner:"App_centerInner__2CYQL",main:"App_main__1tXU6",nav:"App_nav__22Knu",footer:"App_footer__MA_zc"}},15:function(e,t,s){e.exports={dialogSection:"DialogsList_dialogSection__v9LMt",title:"DialogsList_title__3wvi8",list:"DialogsList_list__2tIML",item:"DialogsList_item__1yFQZ",activeLink:"DialogsList_activeLink__1wmIl",avatar:"DialogsList_avatar__2BxMh"}},19:function(e,t,s){e.exports={messages:"Messages_messages__321Zx",list:"Messages_list__AIFCx",friendItem:"Messages_friendItem__gekos",myItem:"Messages_myItem__1tlq3"}},20:function(e,t,s){e.exports={post:"Post_post__1HHG3",avatar:"Post_avatar__3QefN",body:"Post_body__3nHYK",likeBox:"Post_likeBox__220Vh"}},21:function(e,t,s){e.exports={form:"AddPost_form__FGE8p",box:"AddPost_box__2g0G4",textarea:"AddPost_textarea__2NecB",btn:"AddPost_btn__Dby6b"}},24:function(e,t,s){e.exports={headerInnerWrapper:"Header_headerInnerWrapper__esRLq",headerContent:"Header_headerContent__3WO0b",logo:"Header_logo__veFuB"}},25:function(e,t,s){e.exports={rootWrapper:"MyPosts_rootWrapper__2zYSz",title:"MyPosts_title__yJPHH",posts:"MyPosts_posts__1HiXT"}},26:function(e,t,s){e.exports={user:"Users_user__iOOKu",avatar:"Users_avatar__3JG2q",body:"Users_body__2d9OU"}},32:function(e,t,s){e.exports={footerInnerWrapper:"Footer_footerInnerWrapper__1JQUo",footerContent:"Footer_footerContent__3C7cU"}},42:function(e,t,s){e.exports={dialogsPage:"Dialogs_dialogsPage__2wiBw"}},43:function(e,t,s){e.exports={form:"AddMessage_form__18gdB",textarea:"AddMessage_textarea__1LAV9",btn:"AddMessage_btn__3DIrk"}},45:function(e,t,s){e.exports={profile:"Profile_profile__j5nbY"}},46:function(e,t,s){e.exports={art:"ProfileInfo_art__2oKMk"}},57:function(e,t,s){},81:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),r=s.n(n),i=s(22),c=s.n(i),o=(s(57),s(3)),l=s(4),d=s(42),u=s.n(d),j=s(43),b=s.n(j),m=function(e){var t=r.a.createRef();return Object(a.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:b.a.form,children:[Object(a.jsx)("textarea",{ref:t,value:e.tmpText,onChange:function(){return e.setTmpText(e.routeId,t.current.value)}}),Object(a.jsx)("button",{onClick:function(){e.addMessage(e.routeId)},children:"Add message"})]})},x=s(19),p=s.n(x),O=function(e){return Object(a.jsx)("li",{className:e.itIsMe?p.a.myItem:p.a.friendItem,children:e.message})},f=function(e){var t=e.routers.map((function(t){return Object(a.jsxs)(l.a,{exact:!0,path:"/dialogs/id".concat(t.id),children:[Object(a.jsx)("ul",{className:p.a.list,children:t.messages.map((function(t){return Object(a.jsx)(O,{message:t.message,itIsMe:t.sender_id===e.ownerId},t.id)}))}),Object(a.jsx)(m,{routeId:t.id,tmpText:t.tmpText,setTmpText:e.setTmpText,addMessage:e.addMessage})]},t.id)}));return Object(a.jsx)("section",{className:p.a.messages,children:Object(a.jsxs)(l.c,{children:[t,Object(a.jsx)(l.a,{path:"/dialogs",children:Object(a.jsx)("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"20vmin"},children:Object(a.jsx)("div",{children:"~"})})})]})})},h=s(5),_=s(15),g=s.n(_),v=s.p+"static/media/default_ava.a20e2a1a.png",N=function(e){return Object(a.jsxs)("li",{className:g.a.item,children:[Object(a.jsx)("img",{className:g.a.avatar,src:v,alt:"avatar"}),Object(a.jsx)(h.b,{exact:!0,activeClassName:g.a.activeLink,to:"/dialogs/id".concat(e.id),children:e.name})]})},y=function(e){var t=e.dialogs.map((function(e){return Object(a.jsx)(N,{id:e.id,name:e.name},e.id)}));return Object(a.jsxs)("section",{className:g.a.dialogSection,children:[Object(a.jsx)("div",{className:g.a.title,children:Object(a.jsx)(h.b,{to:"/dialogs",children:"Dialogs"})}),Object(a.jsx)("ul",{className:g.a.list,children:t})]})},T=s(13),w=s(12),I="ADD-MESSAGE",P="SET-TMP-TEXT",k={owner:{id:42},dialogs:[{id:0,name:"Alexander"},{id:1,name:"James"},{id:2,name:"Daniel"}],routers:[{tmpText:"",id:0,messages:[{id:0,message:"Lorem ipsum, dolor sit amet consectetur adipisicing elit.",sender_id:123456}]},{tmpText:"",id:1,messages:[{id:0,message:"Porro facere explicabo id illum tempore nobis nisi obcaecati voluptatibus quidem exercitationem amet labore",sender_id:43534534534},{id:1,message:"Ipsa minus natus quasi perspiciatis ipsam debitis nam.",sender_id:42}]},{tmpText:"",id:2,messages:[{id:0,message:"Dicta.",sender_id:26734232},{id:1,message:"Consectetur amet omnis delectus quia in!",sender_id:42},{id:2,message:"Maxime vel voluptates nemo, autem iusto alias nam?",sender_id:26734232}]}]},C=function(e,t){if(e.routers[t].tmpText.trim()){var s=Object(o.a)({},e.routers[t]);s.messages=[].concat(Object(w.a)(s.messages),[{id:s.messages.length,message:s.tmpText,sender_id:e.owner.id}]),s.tmpText="";var a=Object(w.a)(e.routers);return a[t]=s,Object(o.a)(Object(o.a)({},e),{},{routers:a})}return e},L=function(e,t,s){var a=Object(o.a)({},e.routers[t]);a.tmpText=s;var n=Object(w.a)(e.routers);return n[t]=a,Object(o.a)(Object(o.a)({},e),{},{routers:n})},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return C(e,t.payload.routeId);case P:return L(e,t.payload.routeId,t.payload.message);default:return e}},A=Object(T.b)((function(e){return{dialogs:e.dialogsReducer.dialogs,ownerId:e.dialogsReducer.owner.id,routers:e.dialogsReducer.routers}}),(function(e){return{addMessage:function(t){return e(function(e){return{type:I,payload:{routeId:e}}}(t))},setTmpText:function(t,s){return e(function(e,t){return{type:P,payload:{routeId:e,message:t}}}(t,s))}}}))((function(e){return Object(a.jsxs)("div",{className:u.a.dialogsPage,children:[Object(a.jsx)(y,{dialogs:e.dialogs}),Object(a.jsx)(f,{ownerId:e.ownerId,routers:e.routers,setTmpText:e.setTmpText,addMessage:e.addMessage})]})})),S=s(32),D=s.n(S),R=function(){return Object(a.jsx)("div",{className:D.a.footerInnerWrapper,children:Object(a.jsx)("div",{className:D.a.footerContent,children:Object(a.jsx)("center",{children:"Footer"})})})},U=s(24),W=s.n(U),F=s.p+"static/media/katana.73f114e1.svg",E=function(){return Object(a.jsx)("div",{className:W.a.headerInnerWrapper,children:Object(a.jsx)("div",{className:W.a.headerContent,children:Object(a.jsx)(h.b,{to:"/",children:Object(a.jsx)("img",{className:W.a.logo,src:F,alt:"logo",draggable:"false"})})})})},B=s(11),H=s.n(B),q=function(e){return Object(a.jsx)(h.b,{className:e.isRoot?H.a.activeLink:null,activeClassName:H.a.activeLink,to:"/profile",children:"Profile"})},z=function(){return Object(a.jsx)("div",{className:H.a.navInner,children:Object(a.jsxs)("ul",{className:H.a.list,children:[Object(a.jsx)("li",{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",render:function(){return Object(a.jsx)(q,{isRoot:!0})}}),Object(a.jsx)(l.a,{path:"*",render:function(){return Object(a.jsx)(q,{})}})]})}),Object(a.jsx)("li",{children:Object(a.jsx)(h.b,{activeClassName:H.a.activeLink,to:"/dialogs",children:"Messages"})}),Object(a.jsx)("li",{children:Object(a.jsx)(h.b,{activeClassName:H.a.activeLink,to:"/users",children:"Users"})}),Object(a.jsx)("li",{children:Object(a.jsx)(h.b,{activeClassName:H.a.activeLink,to:"/news",children:"News"})}),Object(a.jsx)("li",{children:Object(a.jsx)(h.b,{activeClassName:H.a.activeLink,to:"/music",children:"Music"})}),Object(a.jsx)("br",{}),Object(a.jsx)("li",{children:Object(a.jsx)(h.b,{activeClassName:H.a.activeLink,to:"/settings",children:"Settings"})})]})})},G=s(45),J=s.n(G),K=s(25),Q=s.n(K),X=s(20),Y=s.n(X),V=function(e){return Object(a.jsxs)("div",{className:Y.a.post,children:[Object(a.jsx)("img",{className:Y.a.avatar,src:v,alt:"avatar"}),Object(a.jsxs)("div",{className:Y.a.body,children:[Object(a.jsxs)("span",{children:["Post \u2116",e.id+1]}),"\xa0",Object(a.jsxs)("span",{className:Y.a.likeBox,children:[Object(a.jsx)("button",{children:"Like"}),Object(a.jsx)("span",{children:e.likesCount})]}),Object(a.jsx)("p",{children:e.message})]})]})},Z=s(21),$=s.n(Z),ee=function(e){var t=r.a.createRef();return Object(a.jsx)("form",{onSubmit:function(e){return e.preventDefault()},className:$.a.form,children:Object(a.jsxs)("div",{className:$.a.box,children:[Object(a.jsx)("textarea",{className:$.a.textarea,value:e.newPostText,ref:t,onChange:function(){return e.setNewPostText(t.current.value)}}),Object(a.jsx)("button",{className:$.a.btn,onClick:function(){return e.addPost()},children:"Add post"})]})})},te="ADD-POST",se="SET-NEW-POST-TEXT",ae={newPostText:"",posts:[{id:0,message:"blah-blah-blah-blah-blah-blah-blah",likesCount:24},{id:1,message:"blah-blah-blah",likesCount:42},{id:2,message:"blah-blah-blah-blah-blah-blah-blah-blah-blah-blah-blah-blah-blah-blah-blah-blah-blah",likesCount:0}]},ne=function(e){return e.newPostText.trim()?Object(o.a)(Object(o.a)({},e),{},{newPostText:"",posts:[].concat(Object(w.a)(e.posts),[{id:e.posts.length,message:e.newPostText,likesCount:0}])}):e},re=function(e,t){return Object(o.a)(Object(o.a)({},e),{},{newPostText:t})},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return ne(e);case se:return re(e,t.payload.text);default:return e}},ce=Object(T.b)((function(e){return{newPostText:e.profileReducer.newPostText,profilePage:e.profileReducer}}),(function(e){return{setNewPostText:function(t){return e(function(e){return{type:se,payload:{text:e}}}(t))},addPost:function(){return e({type:te})}}}))((function(e){var t=e.profilePage.posts.map((function(e){return Object(a.jsx)(V,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}));return Object(a.jsxs)("div",{className:Q.a.rootWrapper,children:[Object(a.jsx)("div",{className:Q.a.title,children:"My posts"}),Object(a.jsx)("div",{className:Q.a.posts,children:t}),Object(a.jsx)(ee,{newPostText:e.newPostText,setNewPostText:e.setNewPostText,addPost:e.addPost})]})})),oe=s(46),le=s.n(oe),de=s.p+"static/media/art.b92f456b.jpg",ue=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{className:le.a.art,src:de,alt:"art",draggable:"false"}),Object(a.jsx)("center",{children:Object(a.jsx)("p",{children:"ava + description"})})," "]})},je=function(e){return Object(a.jsxs)("div",{className:J.a.profile,children:[Object(a.jsx)(ue,{}),Object(a.jsx)(ce,{})]})},be=s(47),me=s(48),xe=s(51),pe=s(50),Oe="FOLLOW",fe="UNFOLLOW",he="SET_USERS",_e={users:[]},ge=function(e,t){return Ne(e,t)},ve=function(e,t){return Ne(e,t)},Ne=function(e,t){return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t?Object(o.a)(Object(o.a)({},e),{},{followed:!e.followed}):e}))})},ye=function(e,t){return Object(o.a)(Object(o.a)({},e),{},{users:[].concat(Object(w.a)(e.users),Object(w.a)(t))})},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return ge(e,t.payload.userId);case fe:return ve(e,t.payload.userId);case he:return ye(e,t.payload.users);default:return e}},we=s(26),Ie=s.n(we),Pe=s(49),ke=s.n(Pe),Ce=function(e){return Object(a.jsxs)("div",{className:Ie.a.user,children:[Object(a.jsx)("img",{className:Ie.a.avatar,src:e.photos.large||e.photos.small||v,alt:"avatar"}),Object(a.jsx)("button",{onClick:function(){e.followed?e.unfollow(e.id):e.follow(e.id)},children:e.followed?"UNFOLLOW":"FOLLOW"}),Object(a.jsxs)("div",{className:Ie.a.body,children:[Object(a.jsxs)("div",{children:["name: ",e.name]}),Object(a.jsxs)("div",{children:["id: ",e.id]}),Object(a.jsxs)("div",{children:["uniqueUrlName: ",e.uniqueUrlName]}),Object(a.jsxs)("div",{children:["status: ",e.status]})]})]})},Le=function(e){Object(xe.a)(s,e);var t=Object(pe.a)(s);function s(){return Object(be.a)(this,s),t.apply(this,arguments)}return Object(me.a)(s,[{key:"componentDidMount",value:function(){var e=this;ke.a.get("https://social-network.samuraijs.com/api/1.0/users").then((function(t){e.props.setUsers(t.data.items)})).catch((function(e){return alert("Users axios error: \n"+e)}))}},{key:"render",value:function(){var e,t=this;return Object(a.jsx)("div",{children:null===(e=this.props.users)||void 0===e?void 0:e.map((function(e){return Object(a.jsx)(Ce,Object(o.a)(Object(o.a)({},e),{},{follow:t.props.follow,unfollow:t.props.unfollow}),e.id)}))})}}]),s}(n.Component),Me=Object(T.b)((function(e){return{users:e.usersReducer.users}}),(function(e){return{follow:function(t){return e(function(e){return{type:Oe,payload:{userId:e}}}(t))},unfollow:function(t){return e(function(e){return{type:fe,payload:{userId:e}}}(t))},setUsers:function(t){return e(function(e){return{type:he,payload:{users:e}}}(t))}}}))(Le),Ae=s(14),Se=s.n(Ae),De={height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"darkcyan",fontSize:"20vmin"},Re=function(){return Object(a.jsx)("div",{style:De,children:"Stub"})},Ue=function(){return Object(a.jsx)("div",{style:Object(o.a)(Object(o.a)({},De),{},{backgroundColor:"darkorange"}),children:"404"})},We=function(e){return Object(a.jsxs)("div",{className:Se.a.grid,children:[Object(a.jsx)("header",{className:Se.a.header,children:Object(a.jsx)(E,{})}),Object(a.jsx)("div",{className:Se.a.center,children:Object(a.jsxs)("div",{className:Se.a.centerInner,children:[Object(a.jsx)("main",{className:Se.a.main,children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",component:je}),Object(a.jsx)(l.a,{path:"/profile",component:je}),Object(a.jsx)(l.a,{path:"/dialogs",component:A}),Object(a.jsx)(l.a,{path:"/users",component:Me}),Object(a.jsx)(l.a,{path:"/news",component:Re}),Object(a.jsx)(l.a,{path:"/music",component:Re}),Object(a.jsx)(l.a,{path:"/settings",component:Re}),Object(a.jsx)(l.a,{path:"*",component:Ue})]})}),Object(a.jsx)("nav",{className:Se.a.nav,children:Object(a.jsx)(z,{})})]})}),Object(a.jsx)("footer",{className:Se.a.footer,children:Object(a.jsx)(R,{})})]})},Fe=s(18),Ee=Object(Fe.b)({dialogsReducer:M,profileReducer:ie,usersReducer:Te}),Be=Object(Fe.c)(Ee);c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(h.a,{basename:"/samurai",children:Object(a.jsx)(T.a,{store:Be,children:Object(a.jsx)(We,{})})})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.0e2a1384.chunk.js.map